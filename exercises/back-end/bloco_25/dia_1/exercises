Exercises part one

1 - Selecione todas as transações feitas pelo cliente chamado "Dave America"
R: db.transactions.aggregate([{$match: {from: "Dave America"}}])

2 - Selecione todas as transações com o valor entre 700 e 6000, ou que sejam recebidas pela cliente "Lisa Simpson".
R: db.transactions.aggregate([{$match: {value: {$gte: 700, $lte: 6000}, to: "Lisa Simpson"}}])

3 - Selecione três transações com o valor acima de 1000
R: db.transactions.aggregate([{$match: {value: {$gt: 1000}}}, {$limit: 3}])

part two

1 - Selecione todos os bancos, ou seja, valores do campo bank ;
R: db.transactions.aggregate([{$group: {_id: "$bank", totalTransactions: {$sum: "$value"}, count: {$sum: 1}}}])

2 - Selecione o valor total das transações em cada banco e quantas são;
R: db.transactions.aggregate([{$group: {_id: "$bank", totalTransactions: {$sum: "$value"}, count: {$sum: 1}}}])

3 - Selecione o valor total de transações por banco;
R: db.transactions.aggregate([{$group: {_id: "$bank", totalTransactions: {$sum: "$value"}}}])

4 - Selecione os bancos que têm o valor total de transações maior que 1000.
R: db.transactions.aggregate([{$group: {_id: "$bank", totalTransactions: {$sum: '$value'}}}, {$match: {"totalTransactions": {$gt: 1000}}}])
